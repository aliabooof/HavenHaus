<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <title>Document</title>
</head>

<body>
    <div class="position-relative">
        <input type="text" name="lastName" class="form-control ps-2 pe-5 py-2" id="lastName" required>
        <i class="fas fa-user form-icon position-absolute end-0 top-50 translate-middle-y me-3 text-muted"></i>
    </div>

    <label for="expiry">Expiry Date</label>
<input type="month" id="expiry" name="expiry" min="2025-04" max required>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html> -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dynamic Bootstrap Cart</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    .offcanvas { width: 400px; }

    .cart-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
      border-bottom: 1px solid #dee2e6;
      padding-bottom: 1rem;
    }

    .cart-item img {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: 0.5rem;
    }

    .cart-item-info {
      flex: 1;
    }

    .cart-item-title {
      font-size: 1rem;
      font-weight: 600;
    }

    .quantity-controls {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .quantity-controls button {
      padding: 0.25rem 0.5rem;
    }

    .cart-total {
      font-size: 1.2rem;
      font-weight: 700;
    }
  </style>
</head>
<body class="bg-light">

  <!-- Navbar -->
  <nav class="navbar navbar-light bg-white shadow-sm px-3">
    <span class="navbar-brand mb-0 h1">My Shop</span>
    <button class="btn btn-outline-secondary position-relative" type="button" data-bs-toggle="offcanvas" data-bs-target="#cartCanvas" aria-controls="cartCanvas">
      <i class="bi bi-cart3 fs-4"></i>
      <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">2</span>
    </button>
  </nav>

  <!-- Offcanvas Cart -->
  <div class="offcanvas offcanvas-end" tabindex="-1" id="cartCanvas" aria-labelledby="cartCanvasLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="cartCanvasLabel">Shopping Cart</h5>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">

      <!-- Cart Item -->
      <div class="cart-item" data-price="50">
        <img src="https://via.placeholder.com/60" alt="Product Image">
        <div class="cart-item-info">
          <div class="cart-item-title">Wireless Headphones</div>
          <div class="quantity-controls">
            <button class="btn btn-outline-secondary btn-sm decrement"><i class="bi bi-dash"></i></button>
            <span class="quantity">2</span>
            <button class="btn btn-outline-secondary btn-sm increment"><i class="bi bi-plus"></i></button>
          </div>
          <div class="item-total text-muted">Total: $100</div>
        </div>
        <button class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></button>
      </div>

      <div class="cart-item" data-price="120">
        <img src="https://via.placeholder.com/60" alt="Product Image">
        <div class="cart-item-info">
          <div class="cart-item-title">Smart Watch</div>
          <div class="quantity-controls">
            <button class="btn btn-outline-secondary btn-sm decrement"><i class="bi bi-dash"></i></button>
            <span class="quantity">1</span>
            <button class="btn btn-outline-secondary btn-sm increment"><i class="bi bi-plus"></i></button>
          </div>
          <div class="item-total text-muted">Total: $120</div>
        </div>
        <button class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></button>
      </div>

      <!-- Total -->
      <div class="d-flex justify-content-between align-items-center mt-4">
        <span class="cart-total">Total:</span>
        <span class="cart-total" id="grandTotal">$220</span>
      </div>

      <button class="btn btn-success w-100 mt-3">Proceed to Checkout</button>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Cart Script -->
  <script>
    function updateTotals() {
      let grandTotal = 0;
      document.querySelectorAll('.cart-item').forEach(item => {
        const price = parseFloat(item.dataset.price);
        const quantity = parseInt(item.querySelector('.quantity').textContent);
        const itemTotal = price * quantity;
        item.querySelector('.item-total').textContent = `Total: $${itemTotal}`;
        grandTotal += itemTotal;
      });
      document.getElementById('grandTotal').textContent = `$${grandTotal}`;
    }

    document.querySelectorAll('.increment').forEach(btn => {
      btn.addEventListener('click', () => {
        const quantitySpan = btn.parentElement.querySelector('.quantity');
        let quantity = parseInt(quantitySpan.textContent);
        quantity++;
        quantitySpan.textContent = quantity;
        updateTotals();
      });
    });

    document.querySelectorAll('.decrement').forEach(btn => {
      btn.addEventListener('click', () => {
        const quantitySpan = btn.parentElement.querySelector('.quantity');
        let quantity = parseInt(quantitySpan.textContent);
        if (quantity > 1) {
          quantity--;
          quantitySpan.textContent = quantity;
          updateTotals();
        }
      });
    });

    // Optional: remove item
    document.querySelectorAll('.btn-outline-danger').forEach(btn => {
      btn.addEventListener('click', () => {
        btn.closest('.cart-item').remove();
        updateTotals();
      });
    });

    // Initial calc
    updateTotals();
  </script>
</body>
</html>
